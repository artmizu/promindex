{"version":3,"sources":["node_modules/deepmerge/dist/cjs.js","NestedMenu.js","script.js"],"names":["isMergeableObject","value","isNonNullObject","isSpecial","stringValue","Object","prototype","toString","call","isReactElement","canUseSymbol","Symbol","for","REACT_ELEMENT_TYPE","$$typeof","emptyTarget","val","Array","isArray","cloneUnlessOtherwiseSpecified","options","clone","deepmerge","defaultArrayMerge","target","source","concat","map","element","getMergeFunction","key","customMerge","getEnumerableOwnPropertySymbols","getOwnPropertySymbols","filter","symbol","propertyIsEnumerable","getKeys","keys","propertyIsOnObject","object","property","_","propertyIsUnsafe","hasOwnProperty","mergeObject","destination","forEach","arrayMerge","sourceIsArray","all","array","Error","reduce","prev","next","deepmerge_1","module","exports","NestedMenu","selector","baseMenuURL","nestedMenuURL","classes","mobileMaxWidth","mouseMoveResetTimeout","maxFailedRequestCount","failedRequestInterval","menu","document","querySelector","baseListData","button","activeNestedListEl","isActive","listWrapper","title","close","back","blackout","defaultMenuTitle","menuResetTimeout","failedRequestCount","activated","downloadData","url","afterDownload","d","init","obj","base","active","menuWrapper","list","el","loading","nested","elIcon","elTitle","mobileTop","getClasses","querySelectorAll","addEventListener","onButtonClick","innerText","reset","backToPrevious","id","console","error","fetch","then","response","json","catch","e","setTimeout","warn","generateBaseList","createList","appendChild","toggleButtonActive","classList","add","window","requestAnimationFrame","onWindowClick","onResize","toggleBlackout","isMobile","onMouseMove","action","onNestedElClick","alreadyActive","contains","preventDefault","enableEl","isInsideMenu","closest","resetMouseMoveTimer","isMobileTop","shiftListBy","length","removeEventListener","dataset","downloaded","enableMenulEl","data","child","remove","disableUnnecessaryEl","setTitle","push","log","getAncestors","arr","current","parentNode","reverse","some","x","text","clearTimeout","listEl","createElement","temp","class","elClass","icon","style","backgroundImage","prepend","link","setAttribute","childList","pop","innerWidth","n","transform","scrollTop"],"mappings":"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","file":"script.3ee8cd32.js","sourceRoot":"..","sourcesContent":["'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","import deepmerge from 'deepmerge';\n\n/* \n  Логика для всплывающего меню с несколькими уровнями вложенности\n\n  В качестве параметров можно передавать:\n  selector - селектор оснвного элемента-родителя\n\tbaseMenuURL - ссылка на структуру базового меню, пример структуры в файле /baseMenuData.json\n\tnestedMenuURL - ссылка, в конец которой будут вставляться id'шники элементов меню (например при ссылке http://artmizu.ru/screenshots/ \n\tзапрос на пункт меню с id 4 будет таким http://artmizu.ru/screenshots/4). Ответ должен содержать структуру пункта меню, пример структуры в файле /nestedMenuElData.json. Если nestedMenuURL не предоставлен, то используется baseMenuURL\n  classes - объект с классами для основных элементов, структуру можно увидеть ниже\n\tmobileMaxWidth - на каком максимальном разрешении меню будет работать в мобильном режиме\n\tmaxFailedRequestCount - кол-во попыток запросить данные для меню\n\tfailedRequestInterval - интервал между попытками загрузки\n*/\n\nexport default function NestedMenu({\n\tselector = '.bem-nested-menu',\n\tbaseMenuURL,\n\tnestedMenuURL,\n\tclasses = {},\n\tmobileMaxWidth = 767,\n\tmouseMoveResetTimeout = 3000,\n\tmaxFailedRequestCount = 3,\n\tfailedRequestInterval = 1500,\n} = {}) {\n\tlet menu = document.querySelector(selector);\n\tif (!menu) return;\n\n\tlet baseListData,\n\t\tbutton,\n\t\tnestedListEl,\n\t\tactiveNestedListEl,\n\t\tisActive,\n\t\tmenuWrapper,\n\t\tlistWrapper,\n\t\ttitle,\n\t\tclose,\n\t\tback,\n\t\tblackout,\n\t\tdefaultMenuTitle,\n\t\tmenuResetTimeout,\n\t\tfailedRequestCount = 0;\n\tlet activated = false;\n\tdownloadData({\n\t\turl: baseMenuURL,\n\t\tafterDownload(d) {\n\t\t\tbaseListData = d;\n\t\t\tinit();\n\t\t},\n\t});\n\n\tfunction downloadData({ id, url, afterDownload = () => {} } = {}) {\n\t\tif (failedRequestCount > maxFailedRequestCount) {\n\t\t\tconsole.error(`Невозможно загрузить данные для меню после ${failedRequestCount} попыток`);\n\t\t} else {\n\t\t\tlet u = id ? url + id : url;\n\t\t\tfetch(u)\n\t\t\t\t.then((response) => response.json())\n\t\t\t\t.then((json) => {\n\t\t\t\t\tfailedRequestCount = 0;\n\t\t\t\t\tafterDownload(json);\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tfailedRequestCount += 1;\n\t\t\t\t\tsetTimeout(() => downloadData({ id, url, afterDownload }), failedRequestInterval);\n\t\t\t\t\tconsole.warn(`Данные для меню загрузить не удалось после ${failedRequestCount} попытки`, e);\n\t\t\t\t});\n\t\t}\n\t}\n\n\t// Первоначальная инициализация при загрузке страницы: поиск элементов, присвоение стандартных значений\n\tfunction init() {\n\t\tactiveNestedListEl = [];\n\t\tisActive = false;\n\t\tclasses = getClasses(classes);\n\t\tif (!nestedMenuURL) nestedMenuURL = baseMenuURL ? baseMenuURL : null;\n\t\tmenuWrapper = menu.querySelector(`.${classes.menuWrapper.base}`);\n\t\tlistWrapper = menu.querySelector(`.${classes.listWrapper.base}`);\n\t\tbutton = document.querySelectorAll(`.${classes.button.base}`);\n\t\tbutton.forEach((el) => el.addEventListener('click', onButtonClick));\n\n\t\tblackout = document.querySelector(`.${classes.blackout.base}`);\n\t\ttitle = menu.querySelector(`.${classes.title.base}`);\n\t\tdefaultMenuTitle = title.innerText;\n\t\tclose = menu.querySelector(`.${classes.close.base}`);\n\t\tback = menu.querySelector(`.${classes.back.base}`);\n\t\tclose.addEventListener('click', reset);\n\t\tback.addEventListener('click', backToPrevious);\n\t}\n\n\t// при клике на кнопку-активатор\n\tfunction onButtonClick(e) {\n\t\t// если активируем в первый раз - генерируем html\n\t\tif (!activated) {\n\t\t\tgenerateBaseList();\n\t\t\tnestedListEl = menu.querySelectorAll(`.${classes.el.nested} > .${classes.elTitle.base}`);\n\t\t\tactivated = true;\n\t\t}\n\n\t\tif (isActive) {\n\t\t\treset();\n\t\t} else {\n\t\t\tisActive = true;\n\t\t\ttoggleButtonActive('add');\n\t\t\tmenu.classList.add(classes.menu.active);\n\t\t\twindow.requestAnimationFrame(() => window.addEventListener('click', onWindowClick));\n\t\t\twindow.addEventListener('resize', onResize);\n\t\t\ttoggleBlackout('on');\n\t\t\tif (!isMobile()) window.addEventListener('mousemove', onMouseMove);\n\t\t}\n\t}\n\n\tfunction toggleButtonActive(action) {\n\t\tbutton.forEach((el) => {\n\t\t\tel.classList[action](classes.button.active);\n\t\t});\n\t}\n\n\tfunction onNestedElClick(e) {\n\t\tlet alreadyActive = this.classList.contains(classes.el.active);\n\t\tlet isNested = this.classList.contains(classes.el.nested);\n\t\tif (!alreadyActive && isMobile()) e.preventDefault();\n\t\tif (alreadyActive) return;\n\t\tenableEl(this);\n\t}\n\n\tfunction onMouseMove(e) {\n\t\tlet isInsideMenu = e.target.closest(`.${classes.listWrapper.base}`);\n\t\tif (isInsideMenu) {\n\t\t\tlet el = e.target.closest(`.${classes.el.base}`);\n\t\t\tresetMouseMoveTimer();\n\t\t\tif (el) enableEl(el);\n\t\t} else {\n\t\t\tif (!menuResetTimeout) menuResetTimeout = setTimeout(reset, mouseMoveResetTimeout);\n\t\t}\n\t}\n\n\tfunction onWindowClick(e) {\n\t\tlet isInsideMenu = e.target.closest(`.${classes.list.base}`);\n\t\tlet isMobileTop = e.target.closest(`.${classes.mobileTop.base}`);\n\t\tif (!isInsideMenu && !isMobileTop) reset();\n\t}\n\n\tfunction onResize() {\n\t\tif (isMobile()) {\n\t\t\tshiftListBy(activeNestedListEl.length);\n\t\t\tresetMouseMoveTimer();\n\t\t\twindow.removeEventListener('mousemove', onMouseMove);\n\t\t} else {\n\t\t\tshiftListBy(0);\n\t\t\twindow.addEventListener('mousemove', onMouseMove);\n\t\t}\n\t}\n\n\t// при активации элемента со вложенными пунктами\n\tfunction enableEl(el) {\n\t\tif (!el.classList.contains(classes.el.active) && el.classList.contains(classes.el.nested)) {\n\t\t\tif (!el.dataset.downloaded) {\n\t\t\t\tel.dataset.downloaded = true;\n\t\t\t\tel.classList.add(classes.el.loading);\n\t\t\t\tdownloadData({\n\t\t\t\t\tid: +el.dataset.id,\n\t\t\t\t\turl: nestedMenuURL,\n\t\t\t\t\tafterDownload(data) {\n\t\t\t\t\t\tlet list = createList(data.child);\n\t\t\t\t\t\tel.appendChild(list);\n\t\t\t\t\t\tel.classList.remove(classes.el.loading);\n\t\t\t\t\t\tenableMenulEl(el);\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tenableMenulEl(el);\n\t\t\t}\n\t\t} else if (!el.classList.contains(classes.el.nested)) {\n\t\t\tdisableUnnecessaryEl(el);\n\t\t\tsetTitle(activeNestedListEl[activeNestedListEl.length - 1]);\n\t\t}\n\t}\n\n\tfunction enableMenulEl(el) {\n\t\tactiveNestedListEl.push(el);\n\t\tel.classList.add(classes.el.active);\n\t\tdisableUnnecessaryEl(el);\n\t\tsetTitle(el);\n\t\tback.classList.add(classes.back.active);\n\t\tif (isMobile()) {\n\t\t\tshiftListBy(activeNestedListEl.length);\n\t\t}\n\t\tlog();\n\t}\n\n\tfunction disableUnnecessaryEl(el) {\n\t\tlet list = getAncestors(el);\n\t\tactiveNestedListEl.forEach((active) => {\n\t\t\tif (!list.some((x) => x === active)) {\n\t\t\t\tactive.classList.remove(classes.el.active);\n\t\t\t}\n\t\t});\n\t\tactiveNestedListEl = list;\n\t\tif (activeNestedListEl.length === 0) back.classList.remove(classes.back.active);\n\t}\n\n\t// получаем все активные элементы выше по уровню от определенного элемента\n\tfunction getAncestors(el) {\n\t\tlet arr = [];\n\t\tlet current = el;\n\t\twhile (current.parentNode !== menu) {\n\t\t\tif (current.classList.contains(classes.el.nested)) {\n\t\t\t\tarr.push(current);\n\t\t\t}\n\t\t\tcurrent = current.parentNode;\n\t\t}\n\t\treturn arr.reverse();\n\t}\n\n\tfunction setTitle(el) {\n\t\tlet text = defaultMenuTitle;\n\t\tif (el) text = el.querySelector(`.${classes.elTitle.base}`).innerText;\n\t\ttitle.innerText = text;\n\t}\n\n\tfunction reset() {\n\t\tisActive = false;\n\t\tactiveNestedListEl.forEach((el) => el.classList.remove(classes.el.active));\n\t\tactiveNestedListEl = [];\n\t\ttoggleButtonActive('remove');\n\t\tmenu.classList.remove(classes.menu.active);\n\t\twindow.removeEventListener('click', onWindowClick);\n\t\twindow.removeEventListener('resize', onResize);\n\t\tsetTitle();\n\t\tshiftListBy(0);\n\t\tback.classList.remove(classes.back.active);\n\t\ttoggleBlackout('off');\n\t\tresetMouseMoveTimer();\n\t\tif (!isMobile()) {\n\t\t\twindow.removeEventListener('mousemove', onMouseMove);\n\t\t}\n\t\tlog();\n\t}\n\n\tfunction resetMouseMoveTimer() {\n\t\tif (menuResetTimeout) {\n\t\t\tclearTimeout(menuResetTimeout);\n\t\t\tmenuResetTimeout = null;\n\t\t}\n\t}\n\n\tfunction getClasses(obj) {\n\t\treturn deepmerge(\n\t\t\t{\n\t\t\t\tblackout: {\n\t\t\t\t\tbase: 'bem-blackout',\n\t\t\t\t\tactive: 'bem-blackout_active',\n\t\t\t\t},\n\t\t\t\tmenu: {\n\t\t\t\t\tbase: 'bem-nested-menu',\n\t\t\t\t\tactive: 'bem-nested-menu_active',\n\t\t\t\t},\n\t\t\t\tbutton: {\n\t\t\t\t\tbase: 'bem-show-nested-menu',\n\t\t\t\t\tactive: 'bem-show-nested-menu_active',\n\t\t\t\t},\n\t\t\t\tclose: {\n\t\t\t\t\tbase: 'bem-nested-menu__mobile-close',\n\t\t\t\t},\n\t\t\t\tback: {\n\t\t\t\t\tbase: 'bem-nested-menu__mobile-back',\n\t\t\t\t\tactive: 'bem-nested-menu__mobile-back_active',\n\t\t\t\t},\n\t\t\t\ttitle: {\n\t\t\t\t\tbase: 'bem-nested-menu__mobile-title',\n\t\t\t\t},\n\t\t\t\tmenuWrapper: {\n\t\t\t\t\tbase: 'bem-nested-menu__menu-wrapper',\n\t\t\t\t},\n\t\t\t\tlistWrapper: {\n\t\t\t\t\tbase: 'bem-nested-menu__list-wrapper',\n\t\t\t\t},\n\t\t\t\tlist: {\n\t\t\t\t\tbase: 'bem-nested-menu__list',\n\t\t\t\t\tactive: 'bem-nested-menu__list_active',\n\t\t\t\t},\n\t\t\t\tel: {\n\t\t\t\t\tbase: 'bem-nested-menu__el',\n\t\t\t\t\tloading: 'bem-nested-menu__el_loading',\n\t\t\t\t\tnested: 'bem-nested-menu__el_nested',\n\t\t\t\t\tactive: 'bem-nested-menu__el_active',\n\t\t\t\t},\n\t\t\t\telIcon: {\n\t\t\t\t\tbase: 'bem-nested-menu__el-icon',\n\t\t\t\t},\n\t\t\t\telTitle: {\n\t\t\t\t\tbase: 'bem-nested-menu__el-title',\n\t\t\t\t},\n\t\t\t\tmobileTop: {\n\t\t\t\t\tbase: 'bem-nested-menu__mobile-top',\n\t\t\t\t},\n\t\t\t},\n\t\t\tobj,\n\t\t);\n\t}\n\n\tfunction generateBaseList() {\n\t\tlet el = createList(baseListData);\n\t\tlistWrapper.appendChild(el);\n\t}\n\n\tfunction createList(list) {\n\t\tlet listEl = document.createElement('div');\n\t\tlistEl.classList.add(classes.list.base);\n\t\tlist.forEach((el) => {\n\t\t\tlet temp = document.createElement('div');\n\t\t\ttemp.classList.add(classes.el.base);\n\t\t\ttemp.dataset.id = el.id;\n\t\t\tif (el.class && el.class.length > 0) {\n\t\t\t\tel.class.forEach((elClass) => temp.classList.add(elClass));\n\t\t\t}\n\n\t\t\tlet title = document.createElement('a');\n\t\t\ttitle.innerText = el.title;\n\t\t\ttitle.classList.add(classes.elTitle.base);\n\t\t\ttemp.appendChild(title);\n\t\t\tif (el.icon) {\n\t\t\t\tlet icon = document.createElement('div');\n\t\t\t\ticon.classList.add(classes.elIcon.base);\n\t\t\t\ticon.style.backgroundImage = `url(${el.icon})`;\n\t\t\t\ttitle.prepend(icon);\n\t\t\t}\n\n\t\t\tif (el.link) {\n\t\t\t\ttitle.setAttribute('href', el.link);\n\t\t\t}\n\n\t\t\tif (el.child) {\n\t\t\t\ttemp.classList.add(classes.el.nested);\n\t\t\t\ttemp.addEventListener('click', onNestedElClick);\n\t\t\t\tif (typeof el.child === 'object') {\n\t\t\t\t\tlet childList = createList(el.child);\n\t\t\t\t\ttemp.appendChild(childList);\n\t\t\t\t\ttemp.dataset.downloaded = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlistEl.appendChild(temp);\n\t\t});\n\n\t\treturn listEl;\n\t}\n\n\tfunction backToPrevious() {\n\t\tlet el = activeNestedListEl.pop();\n\t\tel.classList.remove(classes.el.active);\n\t\tsetTitle(activeNestedListEl[activeNestedListEl.length - 1]);\n\t\tshiftListBy(activeNestedListEl.length);\n\t\tif (activeNestedListEl.length === 0) {\n\t\t\tback.classList.remove(classes.back.active);\n\t\t}\n\t}\n\n\tfunction isMobile() {\n\t\treturn window.innerWidth <= mobileMaxWidth;\n\t}\n\n\tfunction toggleBlackout(action = 'on') {\n\t\tblackout.classList[action === 'on' ? 'add' : 'remove'](classes.blackout.active);\n\t}\n\n\tfunction shiftListBy(n) {\n\t\tlistWrapper.querySelector(`.${classes.list.base}`).style.transform = `translateX(-${n * 100}%)`;\n\t\tlistWrapper.scrollTop = 0;\n\t}\n\n\tfunction log() {\n\t\tconsole.log('Данные для дебага всплывающего меню:', {\n\t\t\tactiveNestedListEl,\n\t\t});\n\t}\n\n\treturn {\n\t\treset,\n\t};\n}\n","import NestedMenu from './NestedMenu';\n\nNestedMenu({\n\tbaseMenuURL: 'https://artmizu.ru/screenshots/index.json',\n\tnestedMenuURL: 'https://artmizu.ru/screenshots/',\n});\n"]}